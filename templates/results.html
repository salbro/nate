{% extends "skeleton.html" %}
{% block title %}Search{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}

{% block main %}
<div id="main">
  <div id="search">
      <form method="post" action="/submit" id="form">
            <div>
                <input type="text" name="entity" align="left" class="search-bar" placeholder="Search Entities"/>
            </div>
            <div>
                <br>
                <button type="submit">Search</button>
            </div>
      </form>
  </div>

  <div id="results">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <br>
        <div>
          {% set n_possible_entities = results.keys()|length %}
          {% if n_possible_entities == 0 %}
            <div>Your search did not return any results.</div>
          {% else %}
            <h3>{{n_possible_entities}} possible entities for "{{entity}}"</h3>
            <br>
            {% for matching_entity in results.keys() %}
              <h4 style="color:#0066cc">{{matching_entity}}</h4>
              {% for requirement in results[matching_entity][1] %}
                <div>{{requirement}}</div> <br>
              {% endfor %}
            {% endfor %}
          {% endif %}
        </div>
  </div>
</div>
{% endblock %}
